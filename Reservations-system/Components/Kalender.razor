<h3>Kalender</h3>

<Button Title="Forrige måned" Css="btn btn-primary" Onclick="PreviusMonth">
</Button>
<Button Title="Næste måned" Css="btn btn-primary" Onclick="NextMonth">
</Button>
<h3>
    @Months[(ShowMonth.Month + monthCounter - 1) % 12]
    @(ShowMonth.Year + yearCounter)
    @dayCounter
</h3>

<table>
    <tr>
        @foreach (var Day in WeekDays)
        {
            <th>@Day</th>
        }
    </tr>

    @for (int i = 0; i < 6; i++)
    {
        <tr>
            @for (int j = 0; j < 7; j++)
            {

                date = new DateTime(ShowMonth.Year + yearCounter, ShowMonth.Month + monthCounter, ShowMonth.Day + (-(int)ShowMonth.DayOfWeek + 1 + dayCounter++));

                <td>@date.Day</td>
            }
        </tr>
    }
</table>



@code {

    public string[] WeekDays = { " man ", " tir ", " ons ", " tor ", " fre ", " lør ", " søn " };
    public string[] Months = { "januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december" };


    public static DateTime ShowMonth = new DateTime(DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day);
    public static DateTime date;
    public int dayCounter = 0;
    public int monthCounter = 0;
    public int yearCounter = 0;

    private void NextMonth()
    {
        dayCounter = 0;
        monthCounter++;
        if (ShowMonth.Month + monthCounter > 12)
        {
            yearCounter++;
            monthCounter -= 12;
        }
    }

    private void PreviusMonth()
    {
        dayCounter = 0;
        monthCounter--;

        if (ShowMonth.Month + monthCounter - 1 < 0)
        {
            yearCounter--;
            monthCounter += 12;
        }
    }
}
